@page "/"
@using System.Text.Json
@using System.Dynamic
@using System.Text.RegularExpressions
@using Crudy.UI.Features.Components
@using Microsoft.AspNetCore.Components.WebAssembly.Hosting
@using static Crudy.UI.Features.Components.RestClient
@inject HttpClient client
@inject IWebAssemblyHostEnvironment env


<div class="wrapper col-12 d-flex flex-column justify-content-center align-items-center">

    <div id="lead">
        Makes frontend testing easier by seamlessly mocking backend API.
    </div>

    <div class="container-rest-client w-100  d-flex flex-column justify-content-center align-items-center">
        <img src="crudy.png" />
         <RestClient />
    </div>


    <div class="card mt-5">
        <div class="card-body d-flex flex-column justify-content-center align-content-center">
            <div class="d-flex justify-content-center align-content-center">
                <BitIcon IconName="@BitIconName.Timer" Style="padding:0" />
                <span class="p-2"> Data expires after 24 hours</span>
            </div>
            <div>
                <BitButton Size="BitButtonSize.Large" ButtonStyle="BitButtonStyle.Standard">
                    Sign up to keep your data permanent
                </BitButton>
            </div>
        </div>
    </div>

    <div class="mt-5 fs-1">what you can do</div>

    <div class="col-6 mt-3">
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Action</th>
                    <th scope="col">HTTP Method</th>
                    <th scope="col">Payload</th>
                    <th scope="col">URL</th>
                    <th scope="col">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Create</td>
                    <td>POST</td>
                    <td>JSON</td>
                    <td>/[route]</td>
                    <td>Create entity</td>
                </tr>
                <tr>
                    <td>Read</td>
                    <td>GET</td>
                    <td>-</td>
                    <td>/[route]/[page-index]/[page-size]</td>
                    <td>Read entity by pagination</td>
                </tr>
                <tr>
                    <td>Read</td>
                    <td>GET</td>
                    <td>-</td>
                    <td>/[route]/[id]</td>
                    <td>Read entity by id</td>
                </tr>
                <tr>
                    <td>Update</td>
                    <td>PUT</td>
                    <td>JSON</td>
                    <td>/[route]/[id]</td>
                    <td>Update entity</td>
                </tr>
                <tr>
                    <td>Delete</td>
                    <td>DELETE</td>
                    <td>-</td>
                    <td>/[route]/[id]</td>
                    <td>Delete entity by id</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="col-12 d-flex flex-column justify-content-center align-items-center mt-10 curl-request-cheat-sheet">
        <img src="example-test-api.png" class="img-fluid mt-2" @onclick="@(()=> showHelp = true)" />
    </div>

</div>


<BitDialog @bind-IsOpen="showHelp" ShowCancelButton="false" ShowOkButton="false" ShowCloseButton="false" Id="show-help-img-dialog">
    <img src="example-test-api.png" class="img-fluid" width="750" />
</BitDialog>



@code {
    bool showHelp = false;

}
